% names package
\ProvidesPackage{prime}

\ProcessOptions\relax


% asy stuffs
\RequirePackage{asymptote}
\begin{asydef}
import olympiad;
import cse5;
import geometry;
\end{asydef}


% colors, needed for pts and title

\RequirePackage{xcolor}

% text colors
\definecolor{darkmidnightblue}{rgb}{0.57,0.0,0.04}
\definecolor{sangria}{rgb}{0.0, 0.2, 0.4}
\definecolor{lightsangria}{rgb}{247, 252, 255}
\definecolor{persianblue}{RGB}{128, 0, 0} 

%bkg colors

\definecolor{lightrose}{RGB}{255, 247, 253}
\definecolor{darkrose}{RGB}{112, 3, 78}

\definecolor{lightred}{RGB}{255, 250, 250} 
\definecolor{darkred}{RGB}{143, 36, 29} 

\definecolor{lightorange}{RGB}{255, 253, 247} 
\definecolor{darkorange}{RGB}{219, 158, 39} 

\definecolor{lightgreen}{RGB}{247, 255, 248} 
\definecolor{medgreen}{RGB}{230, 255, 233}
\definecolor{darkgreen}{RGB}{18, 110, 39} 

\definecolor{lightgreenblue}{RGB}{245, 255, 253}
\definecolor{darkgreenblue}{RGB}{23, 97, 87}

\definecolor{lightcyan}{RGB}{247, 253, 255}
\definecolor{medcyan}{RGB}{232, 248, 255}
\definecolor{darkcyan}{RGB}{50, 88, 135}

\definecolor{lightpurple}{RGB}{247, 247, 255}
\definecolor{darkpurple}{RGB}{45,0,90} 

\definecolor{lightgray}{RGB}{243, 243, 243}
\definecolor{darkgray}{RGB}{36, 36, 36} 



\RequirePackage{fontawesome}

\usepackage{soul}

\RequirePackage[letterpaper,top=2cm,bottom=2cm,left=2.5cm,right=2.5cm,includeheadfoot]{geometry} % geometry has to be BEFORE fancyhdr for margins to work!

\RequirePackage{etoolbox} % needed for hints and also title


\patchcmd{\@maketitle}{\@title}{\sffamily\color{sangria}\bfseries\@title{}}{}{}
\patchcmd{\@maketitle}{\@author}{\sffamily\@author}{}{}
\patchcmd{\@maketitle}{\@date}{\sffamily\color{persianblue}{\@date}}{}{}


% font formatting

\RequirePackage[utf8]{inputenc}
\RequirePackage{pifont}
\RequirePackage[T1]{fontenc}

% more generic formatitng

\RequirePackage{amsmath,amsthm,amssymb}
\RequirePackage{comment}
\RequirePackage{mathrsfs}
\RequirePackage{graphicx}
\RequirePackage{pdfpages}
\RequirePackage{enumerate}
\RequirePackage{changepage}

\raggedbottom

% hyperref

\usepackage[hypertexnames=false]{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=darkmidnightblue,
    urlcolor=darkmidnightblue
}

% toc looks bad with hyperref

\newcommand{\toc}{
{\hypersetup{
  citecolor=black,
  filecolor=black,
  linkcolor=black,
  urlcolor=black}
\tableofcontents}
}

\newtheoremstyle{proof} % name
{1pt} % space above
{1pt}% below
{} %body font (empty = default)
{} %indent amount (empty = default)
{\color{darkpurple}\sffamily\bfseries} % title font
{.\\} 
{0em}
{}

\RequirePackage{mdframed}

\RequirePackage{tcolorbox}
\tcbuselibrary{skins}
\tcbuselibrary{breakable}
\tcbuselibrary{theorems}

\RequirePackage{titlesec}

\newcommand{\sectioncolor}{sangria} % in case I need to change this for any reason

\titleformat{\section}{\normalfont\Large\bfseries\sffamily}{\color{\sectioncolor}{\S\,\thesection}}{1em}{\color{\sectioncolor}}[\color{\sectioncolor}\rule{\linewidth}{0.6mm}]
\titleformat{\subsection}{\normalfont\large\bfseries\sffamily}{\color{\sectioncolor}{\S\,\thesubsection}}{1em}{\color{\sectioncolor}}[\color{\sectioncolor}]
\titleformat{\subsubsection}{\normalfont\bfseries\sffamily}{\color{\sectioncolor}{\S\,\thesubsubsection}}{1em}{\color{\sectioncolor}}[\color{\sectioncolor}]

\theoremstyle{plain}

\newtheorem{problem}{Problem}

\theoremstyle{proof} %problem solution and remark environment (self explanatory)

% style plain: Theorem, Lemma, Corollary, Proposition, Conjecture, Criterion, Assertion

\newmdtheoremenv[
backgroundcolor=lightrose,
nobreak=false,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkrose,
linewidth=1.2pt,
topline=true,
bottomline=true,
rightline=true,
leftline=true]{theorem}{Theorem}

\newmdtheoremenv[
backgroundcolor=lightred,
nobreak=false,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkred,
linewidth=1.2pt,
topline=true,
bottomline=true,
rightline=true,
leftline=true]{corollary}{Corollary}

% style definition: Definition, Condition, Problem, Example, Exercise, Algorithm, Question, Axiom, Property, Assumption, Hypothesis

\newmdtheoremenv[
backgroundcolor=lightgreen,
nobreak=false,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkgreen,
linewidth=1.2pt,
topline=true,
bottomline=true,
rightline=true,
leftline=true]{example}{Example}

\newmdtheoremenv[
backgroundcolor=lightgreenblue,
nobreak=false,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkgreenblue,
linewidth=1.2pt,
topline=true,
bottomline=true,
rightline=true,
leftline=true]{definition}{Definition}

\newmdtheoremenv[
backgroundcolor=lightpurple,
nobreak=false,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkpurple,
linewidth=1.2pt,
topline=true,
bottomline=true,
rightline=true,
leftline=true]{idea}{Idea}

% style remark: Remark, Note, Notation, Claim, Summary, Acknowledgment, Case, Conclusion

\newmdtheoremenv[
backgroundcolor=lightorange,
nobreak=false,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkorange,
linewidth=2.2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{lemma}{Lemma}

\newmdtheoremenv[
backgroundcolor=lightcyan,
nobreak=false,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkcyan,
linewidth=2.2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{claim}{Claim}

\newmdtheoremenv[
backgroundcolor=lightgray,
nobreak=false,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkgray,
linewidth=2.2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{remark}{Remark}

\newmdtheoremenv[
backgroundcolor=lightgray,
nobreak=false,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkgray,
linewidth=2.2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{reference}{Reference}


\newenvironment{solution}
  {\begin{proof}[Solution]}
  {\end{proof}} % duplicating proof to solution


\def\endlem{\hfill$\square$}
\def\endsol{\hfill$\blacksquare$}

\newcommand{\bbold}[1]{{\color{sangria}\bfseries#1}} %blueish bold color
\newcommand{\rbold}[1]{{\color{persianblue}\bfseries#1}} %reddish bold color
