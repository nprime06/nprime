% names package
\ProvidesPackage{prime}

\ProcessOptions\relax


% asy stuffs
\RequirePackage{asymptote}
\begin{asydef}
import olympiad;
import cse5;
import geometry;
\end{asydef}


% colors, needed for pts and title

\RequirePackage{xcolor}

\definecolor{darkmidnightblue}{rgb}{0.57,0.0,0.04}
\definecolor{sangria}{rgb}{0.0, 0.2, 0.4}
\definecolor{persianblue}{RGB}{128, 0, 0}


\definecolor{titlered}{RGB}{128, 0.0, 0.0}

\definecolor{thmblue}{rgb}{0.88, 0.95, 0.98}
\definecolor{darkblue}{RGB}{36,57,108}


\definecolor{lightred}{RGB}{255, 250, 250} 
\definecolor{medred}{RGB}{255, 240, 240}
\definecolor{darkred}{RGB}{143, 36, 29} 

\definecolor{lightorange}{RGB}{255, 253, 247} 
\definecolor{medorange}{RGB}{255, 249, 230}
\definecolor{darkorange}{RGB}{181, 135, 47} 

\definecolor{lightgreen}{RGB}{247, 255, 248} 
\definecolor{medgreen}{RGB}{230, 255, 233}
\definecolor{darkgreen}{RGB}{18, 110, 39} 

\definecolor{lightgreenblue}{RGB}{242, 255, 252}
\definecolor{darkgreenblue}{RGB}{23, 97, 87}

\definecolor{lightcyan}{RGB}{245, 252, 255}
\definecolor{medcyan}{RGB}{232, 248, 255}
\definecolor{darkcyan}{RGB}{50, 88, 135}

\definecolor{lightpurple}{RGB}{247, 247, 255}
\definecolor{darkpurple}{RGB}{45,0,90} 

\definecolor{lightrose}{RGB}{255, 242, 251}
\definecolor{darkrose}{RGB}{112, 3, 78}

\definecolor{lightgray}{RGB}{237, 237, 237}
\definecolor{darkgray}{RGB}{36, 36, 36} 



\RequirePackage{fontawesome}



\newcounter{problem}\setcounter{problem}{0} % Problem number counter

\newcommand{\prob}[3]{ % problem
{\parindent=0pt
\stepcounter{problem}\textbf{Problem \theproblem}{\if\relax\detokenize{#2}\relax\else\hspace{3pt}(#1)\fi}{\hspace{3.5pt}#2}}
\vspace{0.2cm}
}

\usepackage{soul}

\RequirePackage[letterpaper,top=2cm,bottom=2cm,left=2.5cm,right=2.5cm,includeheadfoot]{geometry} % geometry has to be BEFORE fancyhdr for margins to work!

\RequirePackage{etoolbox} % needed for hints and also title


\patchcmd{\@maketitle}{\@title}{\sffamily\color{sangria}\bfseries\@title{}}{}{}
\patchcmd{\@maketitle}{\@author}{\sffamily\@author}{}{}
\patchcmd{\@maketitle}{\@date}{\sffamily\color{persianblue}{\@date}}{}{}


% font formatting

\RequirePackage[utf8]{inputenc}
\RequirePackage{pifont}
\RequirePackage[T1]{fontenc}

\input{fonts}

% more generic formatitng

\RequirePackage{amsmath,amsthm,amssymb}
\RequirePackage{comment}
\RequirePackage{mathrsfs}
\RequirePackage{graphicx}
\RequirePackage{pdfpages}
\RequirePackage{enumitem}
\RequirePackage{changepage}

\raggedbottom

% hyperref

\usepackage[hypertexnames=false]{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=darkmidnightblue,
    urlcolor=darkmidnightblue
}

% toc looks bad with hyperref

\newcommand{\toc}{
{\hypersetup{
  citecolor=black,
  filecolor=black,
  linkcolor=black,
  urlcolor=black}
\tableofcontents}
}

\newtheoremstyle{proof}
{0pt}
{0pt}
{}
{}
{\color{darkpurple}\sffamily\bfseries}
{:}
{1.5mm}
{\thmname{#1}\thmnote{ #3}}


\RequirePackage{mdframed}

\RequirePackage{tcolorbox}
\tcbuselibrary{skins}
\tcbuselibrary{breakable}
\tcbuselibrary{theorems}

\RequirePackage{titlesec}

%titling & sectioning from team.sty

\newcommand{\sectioncolor}{sangria} % in case I need to change this for any reason

\titleformat{\section}{\normalfont\Large\bfseries\sffamily}{\color{\sectioncolor}{\S\,\thesection}}{1em}{\color{\sectioncolor}}[\color{\sectioncolor}\rule{\linewidth}{0.6mm}]
\titleformat{\subsection}{\normalfont\large\bfseries\sffamily}{\color{\sectioncolor}{\S\,\thesubsection}}{1em}{\color{\sectioncolor}}[\color{\sectioncolor}]
\titleformat{\subsubsection}{\normalfont\bfseries\sffamily}{\color{\sectioncolor}{\S\,\thesubsubsection}}{1em}{\color{\sectioncolor}}[\color{\sectioncolor}]


\theoremstyle{proof} %problem solution and remark environment (self explanatory)

\newmdtheoremenv[
backgroundcolor=lightpurple,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkpurple,
linewidth=2pt,
topline=true,
bottomline=false,
rightline=false,
leftline=true]{question}{Problem}

\newmdtheoremenv[
backgroundcolor=lightgreenblue,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkgreenblue,
linewidth=2pt,
topline=true,
bottomline=false,
rightline=false,
leftline=true]{theorem}{Theorem}

\newmdtheoremenv[
backgroundcolor=lightrose,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkrose,
linewidth=2pt,
topline=true,
bottomline=false,
rightline=false,
leftline=true]{definition}{Definition}

\newmdtheoremenv[
backgroundcolor=lightred,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkred,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{proofA}{Solution}

\newmdtheoremenv[
backgroundcolor=lightorange,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkorange,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{proofC}{Solution}

\newmdtheoremenv[
backgroundcolor=lightgreen,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkgreen,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{proofG}{Solution}

\newmdtheoremenv[
backgroundcolor=lightcyan,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkcyan,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{proofN}{Solution}

\newmdtheoremenv[
backgroundcolor=medred,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkred,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{lemmaA}{Lemma}

\newmdtheoremenv[
backgroundcolor=medorange,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkorange,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{lemmaC}{Lemma}

\newmdtheoremenv[
backgroundcolor=medgreen,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkgreen,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{lemmaG}{Lemma}

\newmdtheoremenv[
backgroundcolor=medcyan,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkcyan,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{lemmaN}{Lemma}

\newmdtheoremenv[
backgroundcolor=medred,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkred,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{claimA}{Claim}

\newmdtheoremenv[
backgroundcolor=medorange,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkorange,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{claimC}{Claim}

\newmdtheoremenv[
backgroundcolor=medgreen,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkgreen,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{claimG}{Claim}

\newmdtheoremenv[
backgroundcolor=medcyan,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkcyan,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,col
leftline=true]{claimN}{Claim}

\newmdtheoremenv[
backgroundcolor=lightgray,
nobreak=true,
innertopmargin=5pt,
innerleftmargin=7pt,
innerrightmargin=7pt,
linecolor=darkgray,
linewidth=2pt,
topline=false,
bottomline=false,
rightline=false,
leftline=true]{note}{Comment}


\def\endlem{\hfill$\square$}
\def\endsol{\hfill$\blacksquare$}
\def\endpro{\hfill$\blacksquare$}


\newcommand*{\Item}{\item[\ding{117}]} 

\newcommand{\bbold}[1]{{\color{sangria}\bfseries#1}} %blueish bold color
\newcommand{\rbold}[1]{{\color{persianblue}\bfseries#1}} %reddish bold color

\usepackage{bm}
\newcommand{\ansbold}[1]{{\color{darkmidnightblue}\bm{#1}}} %ansbold

\usepackage[pages=all]{background} %background (optional); setup in preamble of tex document
